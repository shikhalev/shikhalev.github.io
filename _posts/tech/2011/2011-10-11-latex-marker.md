---
layout: post
title: Выделение «маркером» в LaTeX
description: Выделение цветным фоном в тексте, аккуратный способ.
category: [ tech, soft ]
tags:
  - TeX
  - LaTeX
  - обработка текста
  - вёрстка
image: /assets/img/2011-10/marker.png
---
Иногда бывает полезно выделить в тексте небольшой фрагмент так, как это делается
<span style="background-color: yellow;">на бумаге маркером</span>. В HTML это делается посредством указания атрибута стиля
`background-color` соответствующему элементу (`<span>` в предыдущем предложении). В LaTeX для этой цели используется
`\colorbox{цвет}{текст}`. Но есть нюанс.

<!--more-->

По умолчанию `\colorbox` вставляет отступы со всех сторон бокса, что неприятно выглядит, если тот граничит, например,
со знаками препинания. Если указать размер этих отступов (`\fboxsep`) равным нулю, граница окрашенного фона пойдет точно
по границе букв, что хорошо справа и слева, но некрасиво сверху и снизу. Далее см. пример:

{% highlight latex %}
\colorbox{red!50}{неправильно}, {\fboxsep=0pt\colorbox{yellow!50}{тоже
неправильно}}, {\fboxsep=0pt\colorbox{green!50}{\strut правильно}}!
{% endhighlight %}

Результат выглядит примерно так (обратите внимание на знаки препинания):

<div class="center-box" style="width: 384px;">
![][marker]
</div>

Волшебное слово `\strut` создает бокс нулевой ширины и максимальной для текущего шрифта выноски вверх и вниз. Соответственно,
действует как распорка и передает свою высоту окружающему боксу. Можно определить себе команду, например, такую:

{% highlight latex %}{% raw %}
\newcommand\marker[2]{{\fboxsep=0pt\colorbox{#1}{\strut #2}}}
{% endraw %}{% endhighlight %}

[marker]: /assets/img/2011-10/marker.png
