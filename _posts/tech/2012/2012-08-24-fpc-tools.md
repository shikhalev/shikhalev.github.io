---
title: "FPC-Notes: И с чем его едят..."
description: Давайте рассмотрим различный софт, с которым нам, возможно, придется взаимодействовать при программировании на Free Pascal.
category: [ tech, programming, fpc, soft ]
tags:
  - свободное ПО
  - Pascal
  - binutils
  - IDE
  - редакторы
image: /assets/img/2012-08/editors.png
---
{% include nova/image.html place="right" width=320 src="/assets/img/2012-08/editors.png" class="logo" %}

Программное обеспечение используется нами не в вакууме, а в некотором окружении. Одни программы необходимы для работы других,
третьи могут быть полезны для совместного использования, четвертые позволяют решать смежные задачи...

Давайте рассмотрим различный софт, с которым нам, возможно, придется взаимодействовать при программировании на Free Pascal.

<!--more-->

## Обязательная программа

GNU BinUtils [[1]](#binutils)

: Этот пакет уже упоминался ранее в подразделе [«Установка»][install], без него обойтись вряд ли удастся, разве что только
  под Windows, где можно (и нужно) использовать внутренний компоновщик вместо `ld`, пользуясь исключительно готовой бинарной
  сборкой (потому что для сборки из исходников потребуется скомпилировать несколько ассемблерных файлов посредством `as`)
  и не используя файлы ресурсов, для которых по-умолчанию нужен `windres`, или же вручную компилируя их в объектные посредством
  некоего аналога, такого как GoRC [[2]](#gorc), например.

GNU Make [[3]](#make)

: Обеспечивает сборку сложных проектов через описания в `Makefile`. Для разработки на FPC его сложно назвать необходимым,
  поскольку модульная структура программ позволяет обойтись без таких описаний. Однако оказывается более чем полезным, если
  в проекте задействованы разные языки, отдельная сборка документации и так далее и тому подобное. Все это можно обеспечить
  и batch/shell-скриптами, но `make` — общепринятый и, что немаловажно, кроссплатформенный способ.

: Кроме того, значительно упрощает сборку Free Pascal из исходников. Обойтись без `make`, правда, можно, но придется набирать
  множество команд с длинными строками параметров, непосредственно в консоли или в файле скрипта, тогда как соответствующий
  `Makefile` уже есть готовый.

GDB [[4]](#gdb)

: GNU-отладчик. Вообще, полезность, а тем более необходимость отладчика — вопрос спорный, но тем не менее... Если вам нужен
  отладчик, то вот, пожалуйста — Free Pascal рассчитан на работу именно с GDB, то есть, при соответствующих ключах компилятора,
  вставляет нужную отладочную информацию. На него же ориентированы `fp` — IDE текстового режима, и Lazarus.

Замечу, что все вышеописанные GNU-утилиты легко находятся (а зачастую уже установлены по-умолчанию) в основных linux-дистрибутивах,
а под DOS и Windows включены в поставку Free Pascal, т.е. ставятся вместе с ним одним установщиком, не тре­буя дополнительных телодвижений.

Go32v2 [[5]](#go32v2)

: DOS-расширитель. Позволяет писать программы для защищенного 32-разрядного режима DOS. Соответственно, входит в комплект FPC для DOS.
  Это не единственный расширитель, с которым может работать Free Pascal (можно упомянуть, например, WDOSX [[6]](#wdosx)), но единственный,
  предлагаемый «из коробки».

XCode [[7]](#xcode)

: Для работы под Mac OS X потребуются установленные инструменты разработчика.

## Управление версиями

<div class="note">
Как уже говорилось ранее[^see-src], сами исходники Free Pascal и Lazarus находятся под управлением Subversion...
Тем не менее, лично я считаю централизованные системы управления версиями вчерашним днем и даже с SVN предпочитаю
иметь дело через Git, что уж говорить о начальном выборе для собственных проектов...

Однако, для собственно управления версиями используемый компилятор никакого значения не имеет. Посему, давайте кратко
рассмотрим оба наиболее популярных на сегодняшний день варианта.
</div>

Apache™ Subversion® [[8]](#svn)

: Самая популярная централизованная VCS. Разрабатывается Apache Software Foundation [[9]](#apache), используется
  во многих проектах, поддерживается, в том числе, самым известным хостингом для исходного кода — SourceForge [[10]](#sf),
  а также Google Code [[11]](#gc). Кроме того, имеется интеграция с Windows Explorer (см. TortoiseSVN [[12]](#tortoise-svn)),
  а также со множеством редакторов и IDE, включая Lazarus (требуется установить пакет `lazsvnpkg`).

: *Плюсы:* интеграция с Lazarus.

: *Минусы:* это все-таки централизованная VCS...

Git [[13]](#git)

: Наиболее популярная (и лично мне симпатичная) распределенная VCS. Проект был начат Линусом Торвальдсом для уп­рав­ле­ния кодом
  ядра Linux. Поддерживается как SourceForge, так и Google Code и многими другими хостингами, включая набирающий популярность
  GitHub [[14]](#gh). Интеграция с Windows Explorer (см. TortoiseGit [[15]](#tortoise-git)) также имеется.

: *Плюсы:* распределенная система, работа ориентирована на наборы изменений. Отлично подходит для индивидуального проекта,
  не требуя никакого выделенного сервера.

: *Минусы:* пока что нет интеграции с Lazarus...

## Редакторы кода

### Собственные средства

{% include nova/image.html id="fp-pic" place="right" width=320 src="/assets/img/2012-08/tools-fp.png" caption="Рис. 1: Среда разработки текстового режима — `fp`." %}

Для начала замечу, что Free Pascal уже в своем составе имеет IDE текстового режима — `fp`, скриншот которой (в окне консоли KDE)
можно видеть на [рис. 1](#fp-pic).

Данная среда имеет свои, кому-то, возможно, существенные, достоинства:

* Интеграция с отладчиком GDB.

* Во многом интерфейс повторяет хорошо известную, хотя и безнадежно устаревшую, среду Turbo Pascal от Borland. Это,
  в совокупности с режимом совместимости `TP`, позволяет, например, легко адаптировать старинные учебные пособия и планы,
  в которых, если отделить собственно программирование от используемых технологий, немало здравого и актуального.

* Возможность работы без графической оболочки тоже может считаться достоинством: это позволяет использовать IDE на очень
  слабых компьютерах под управлением Linux или, скажем, FreeDOS [[16]](#freedos).

Недостатки текстового режима вполне очевидны... Стоит отметить, пожалуй, только тот печальный факт, что fp IDE
не умеет работать с Unicode в исходных текстах, что, помимо прочего, мешает использовать русский язык в современных
дистрибутивах Linux, которые по умолчанию задают кодировку консоли UTF-8. К счастью, Linux всегда можно отконфигурировать
на однобайтную кодировку, такую как KOI8-r или CP866...

{% include nova/image.html id="lazarus-pic" place="right" width=320 src="/assets/img/2012-08/tools-lazarus.png" caption="Рис. 2. Lazarus IDE" %}

Lazarus ([рис. 2](#lazarus-pic)) — интегрированная среда разработки, о которой мы еще будем говорить много и подробно.
И о преимуществах и об особенностях.

К недостаткам можно отнести некоторую тяжеловесность. Чтобы быстренько написать маленькую консольную утилиту,
среда явно избыточна. Кроме того, средства визуальной разработки, скрывая от программиста низкоуровневые действия,
могут сослужить плохую службу при обучении.

Тем не менее, интеграция с компилятором, встроенный отладчик, средства анализа кода, расширяемость и визуальные компоненты
делают Lazarus лучшим выбором для реальной разработки. Посему в дальнейшем мы будем рассматривать его как основной вариант.
А сейчас я кратко приведу рекомендации, чем еще можно воспользоваться при программировании на Free Pascal.

### Другие редакторы

{% include nova/image.html id="kate-pic" place="right" width=320 src="/assets/img/2012-08/tools-kate.png" caption="Рис. 3. Kate" %}

В отличие от `fp` и Lazarus, перечисленные далее программы не кроссплатформенны. И это нормально — если мы ищем легковесный
редактор с поддержкой множества языков, чем-то придется пожертвовать: или легковесностью (но тогда стоило ли отказываться
от Lazarus'а?), или кросс­платформенностью.

На деле, выбор будет зависеть не только от используемой операционной системы, но и от графического окружения в ней.

{% include nova/image.html id="gedit-pic" place="left" width=320 src="/assets/img/2012-08/tools-gedit.png" caption="Рис. 4. gedit" %}

Так, для Linux я бы рекомендовал использовать Kate [[17]](#kate) ([рис. 3](#kate-pic)), если работа ведется в окружении KDE,
и gedit [[18]](#gedit) ([рис. 4](#gedit-pic)), если вы предпочитаете Gnome или Xfce[^native]. Это наиболее развитые редакторы
для своих оболочек. Хотя, безусловно, можно использовать и любой другой... Пожалуй, главное — обратить внимание на две вещи:
подсветка синтаксиса Pascal, желательно — настраиваемая, и возможность вызова прямо из редактора внешних программ с перехватом
вывода, чтобы видеть сообщения компилятора. Хотя, например, в Kate реализован другой механизм, лично для меня даже более удобный —
встроенная консоль. Отдельно замечу, что в Kate очень хорошо реализован список открытых файлов — в виде дерева с подкаталогами,
а также имеется возможность сохранять набор этих файлов в виде «Сеанса» — чрезвычайно важная вещь, когда приходится параллельно
работать над несколькими проектами.

Оба редактора поддерживают расширения в виде плагинов, кроме того, Kate — еще и сценарии, написанные на JavaScript.

{:.note}
Вообще, как нетрудно заметить, я вообще предпочитаю KDE и особенно люблю редактор Kate. Если для разработки на Free Pascal
он и уступает Lazarus, в качестве универсального программистского редактора у него практически нет конкурентов.

{% include nova/image.html id="npp-pic" place="right" width=320 src="/assets/img/2012-08/tools-npp.png" caption="Рис. 5. Notepad++" %}

Что касается Windows, стоит в первую очередь обратить внимание на Note&shy;pad++ [[19]](#npp) — отличный универсальный расширяемый
редактор с поддержкой Unicode, множества языков программирования, русского интерфейса и т.д. Его скриншот — на [рис. 5](#npp-pic).

Чтобы закончить с редакторами, кратко перечислю еще несколько, стоящих внимания, возможно, кому-то они окажутся наиболее
подходящими... Только список, без скриншотов и подробных характеристик.


* KDevelop [[20]](#kdevelop) (Linux, KDE) — вообще, это IDE для разработки на C++ с умеренной поддержкой других языков.
  Соответственно, имеет довольно широкие возможности, но для Free Pascal они малополезны. Т.е. его вполне можно использовать
  как универсальную среду, но в этом качестве преимущества перед Kate, мягко говоря, неочевидны.

* Anjuta DevStudio [[21]](#anjuta) (Linux, Gnome) — можно сказать, аналог предыдущего, только для Gnome — тоже умеет много
  гитик, которые не пригодятся при работе с Free Pascal, тоже довольно тяжеловесная среда.

* Вероятно, наиболее удобный linux-редактор, из тех, кого я не внес в рекомендованный список ранее — Geany [[22]](#geany)
  (Linux, GTK2) — универсальный, расширяемый... По функциональности несколько обгоняет gedit, но в отличие от него, не входит
  в установку по-умолчанию. На мой взгляд, это не компенсируется преимуществами Geany. Впрочем, я мало имел дела с GTK-редакторами
  вообще, так что мое мнение тут не авторитетно.

* SciTE [[23]](#scite) (кроссплатформенный: Windows и Linux, GTK2) — довольно специфичный в настройке редактор, хотя и
  с приемлемой функциональностью. Может пригодиться тем, для кого желательно использовать один и тот же софт в разных системах
  (например, чтобы не менять программу обучения).

## Что еще?..

Теоретически, много о чем еще можно поговорить, поскольку разработка программ предполагает не только программирование,
но и работу с графикой для интерфейса, формирование справочной системы и так далее. Для всего этого существуют программы,
в том числе хорошие и интересные... Однако, это уведет нас далеко от основной темы «Заметок».

Рассмотрим, пожалуй, еще две программы, благо они имеют непосредственное отношение к Free Pascal — не только используются
вместе с ним, но и на нем же написаны. Это утилиты автодокументирования исходников fpDoc [[24]](#fpdoc) (входящая в состав FPC)
и PasDoc [[25]](#pasdoc). Обе обрабатывают исходные тексты, обе формируют документацию в различных форматах, основными
из которых можно назвать HTML и LaTeX (для последующего получения PDF или PostScript). В обоих случаях структура документа
соответствует структуре исходных текстов. Разница между ними в том, откуда берутся описания элементов программы: fpDoc берет
их из отдельного xml-файла, тогда как PasDoc — из комментариев в тексте исходников.

Оба подхода имеют свои преимущества и недостатки. Первый более удачен для создания полноценной документации на многих языках
и с подробностями, тогда как второй позволяет документировать «по ходу дела», держа краткие описания вместе с объявлениями
того, что описывается. Какой из них выбрать, зависит от масштабов проекта и требований к документации. Ну, и от личных
предпочтений, конечно же.

## Ссылки

<div class="links-box">

{:#binutils}
[1] GNU BinUtils
<http://www.gnu.org/s/binutils/> [en]

{:#gorc}
[2] The «Go» Tools, *Jeremy Gordon*
<http://www.godevtool.com/> [en]

{:#make}
[3] GNU Make
<http://www.gnu.org/s/make/> [en]

{:#gdb}
[4] GDB: The GNU Project Debugger
<http://www.gnu.org/s/gdb/> [en]

{:#go32v2}
[5] DJGPP, *DJ Delorie*
<http://www.delorie.com/djgpp/> [en]

{:#wdosx}
[6] Wuschel's DOS eXtender
<http://tippach.business.t-online.de/wdosx/> [en]

{:#xcode}
[7] XCode
<https://developer.apple.com/xcode/> [en]

{:#svn}
[8] Apache™ Subversion®
<http://subversion.apache.org/> [en]

{:#apache}
[9] The Apache Software Foundation
<http://www.apache.org/> [en]

{:#sf}
[10] SourceForge.net
<http://sourceforge.net/> [en]

{:#gc}
[11] Google code
<http://code.google.com/> [en] [ru]

{:#tortoise-svn}
[12] TortoiseSVN: the coolest interface to (Sub)version control
<http://tortoisesvn.net/> [en]

{:#git}
[13] Git — Fast Version Control System
<http://git-scm.com/> [en]

{:#gh}
[14] github: social coding
<https://github.com/> [en] [ru]

{:#tortoise-git}
[15] tortoisegit: Porting TortoiseSVN to TortoiseGIT
<http://code.google.com/p/tortoisegit/> [en]

{:#freedos}
[16] The FreeDOS Project
<http://www.freedos.org/> [en]

{:#kate}
[17] The Kate Editor
<http://kate-editor.org/> [en]

{:#gedit}
[18] gedit text editor
<http://projects.gnome.org/gedit/> [en]

{:#npp}
[19] Notepad++
<http://notepad-plus-plus.org/> [en]

{:#kdevelop}
[20] KDevelop: KDE Development Environment
<http://kdevelop.org/> [en]

{:#anjuta}
[21] Anjuta DevStudio: GNOME Integrated Development Environment
<http://projects.gnome.org/anjuta/> [en]

{:#geany}
[22] Geany
<http://www.geany.org/> [en]

{:#scite}
[23] SciTE: A free source code editor for Win32 and X
<http://www.scintilla.org/SciTE.html> [en]

{:#fpdoc}
[24] FPDoc: Reference Manual, *Michaël Van Canneyt*
Файл: [[fpdoc.pdf]](ftp://ftp.freepascal.org/pub/fpc/docs-pdf/fpdoc.pdf) [en]

{:#pasdoc}
[25] PasDoc
<http://pasdoc.sipsolutions.net/> [en]

</div>

[^see-src]: См. подраздел [«Текущие исходники с SVN»](/2011/11/fpc-start.html#текущие-исходники-с-svn).

[^native]: Это не значит, что нельзя воспользоваться программой для другого окружения. Просто работа с «родными» приложениями во многом проще и удобнее.

[install]: /2011/11/fpc-start.html#установка

*[VCS]: Version Control System
