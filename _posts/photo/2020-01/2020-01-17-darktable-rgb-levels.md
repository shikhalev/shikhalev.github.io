---
layout: post
title: Новый модуль Darktable — «Уровни RGB»
date: 2020-01-17
categories: [ photo, processing ]
tags:
  - фотография
  - обработка фото
  - darktable
  - цвет
  - RAW
author: Иван Шихалев
---

Продолжаю изучать новые возможности Darktable 3.0. Пробежался по некоторым новым модулям,
пока не впечатлен,  но кое-что интересное нашлось. Модуль называется «Уровни RGB» и делает,
в общем, то же самое, что и старый модуль «Уровни» (правда, без полностью автоматического
режима), но с возможностью работы по отдельным каналам красного, зеленого и синего. Что это
дает на практике, сейчас и рассмотрим.

<div class="center-box">
<a href="/assets/img/2020-01/RGB.png" title="Панели модуля «Уровни RGB»"><img src="/assets/img/2020-01/RGB.png" alt="Панели модуля «Уровни RGB»"></a>
</div>

<!--more-->

Итак, есть вот такая фотография, снятая при плохих условиях освещения — зима, тень, веточки,
сквозь которые просвечивает черте-что... Вот так она выглядит при проявке по умолчанию
с моими обычными предустановками:

<!-- TODO: ссылка на предустановки -->

<div class="center-box">
<a href="/assets/photo/2020-01/default.jpg" title="Фотография с обычными предустановками"><img src="/assets/img/2020-01/default.jpg" alt="Фотография с обычными предустановками"></a>
</div>

Что характерно, настройка сохранения цветов в модуле базовой кривой не влияет на картинку
*совсем*, а полное отключение этого модуля не влияет *почти*. В любом случае мы получаем
отсутствие контраста в тенях (т.е. в данном случае именно в значимой части снимка)
и перекос в сторону синевы.

<!-- TODO: ссылка на настройку сохранения цветов -->

Что ж, попробуем исправить проблему старыми средствами. Для начала поправим контраст
посредством «Тональной кривой<sup>[<a
href="https://photoredroom.blogspot.com/2018/07/dttonegroup3.html">ru</a>/<a
href="https://darktable.gitlab.io/doc/en/tone_group.html#tone_curve">en</a>]</sup>»,
выбрав предустановку «Сжатие контраста»:

<div class="center-box">
<a href="/assets/photo/2020-01/contrast.jpg" title="Фотография со сжатием контраста"><img src="/assets/img/2020-01/contrast.jpg" alt="Фотография со сжатием контраста"></a>
</div>

Затем в настройках баланса белого<sup>[<a
href="https://photoredroom.blogspot.com/2018/06/dtbasicgroup10.html">ru</a>/<a
href="https://darktable.gitlab.io/doc/en/modules.html#whitebalance">en</a>]</sup>
вместо профиля камеры выберем вариант «Пипетка» и область всей картинки (или большей части):

<div class="center-box">
<a href="/assets/photo/2020-01/bb.jpg" title="Фотография с исправленным балансом белого"><img src="/assets/img/2020-01/bb.jpg" alt="Фотография с исправленным балансом белого"></a>
</div>

В целом, уже неплохо.

А теперь обратимся к новому модулю «Уровни RGB», *предварительно отключив старые «Уровни»
и «Тональную кривую», это важно*. Выберем сверху режим «RGB (независимые)» и в каждом канале
потыкаем кнопку «Авто» (просто автоматического режима, как я уже сказал, тут не предусмотрено):

<div class="center-box">
<a href="/assets/photo/2020-01/levels.jpg" title="Фотография после применения модуля"><img src="/assets/img/2020-01/levels.jpg" alt="Фотография после применения модуля"></a>
</div>

Удивительным образом мы получили более чистую и отчетливую картинку, чем в предыдущем
случае (хотя и предыдущую, скорее всего, можно было бы довести до такого же,
поигравшись вручную с уровнями и кривыми, но вручную же).

Итого: инструмент, конечно, для очень специфических случаев, но вполне годный.
