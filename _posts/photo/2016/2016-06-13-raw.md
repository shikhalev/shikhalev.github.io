---
title: "Пингвин-фотолюбитель: 1. «Проявка» raw-файлов"
category: [ photo, processing, penguin, tech, soft, graphics ]
tags:
  - Linux
  - RAW
  - Darktable

description: Как проявлять и обрабатывать RAW-файлы фотографий под Linux
image: /assets/img/2016-06/p-01/kdpv.jpg
---
{% include image.liquid place="right" width=320 src="/assets/img/2016-06/p-01/kdpv.jpg" link=false %}

Первая программа, которая нам понадобится — это **[Darktable][darktable]{:.img-icon-darktable}**. И это тот редкий случай,
когда можно говорить об аналогах: по своим задачам и базовым функциям Darktable соответствует любимому многими
фотографами софту от Ado&shy;be — Lightroom. Насколько хорошо соответствует, я обсуждать не готов, поскольку лайтрума
под рукой нет.

К сожалению, в репозиториях Linux Mint находится довольно древняя версия Darktable — 1.4, поэтому я рекомендую
добавить PPA «`ppa:​pmjdebruijn/​darktable-​release`» с последними стабильными версиями и устанавливать оттуда
(информация взята [с официального сайта][dt-ubuntu]). Старой версией тоже можно пользоваться, но новая лучше.
Актуальная версия, о которой и пойдет речь — 2.0.4.

<!--more-->

{% include image.liquid place="center" width=800 src="/assets/img/2016-06/p-01/dt-01.png" %}

Порядок действий в моем случае таков: копируем фотографии с карты куда-нибудь на диск, открываем Darktable
и импортируем фото «из папки».

{% include image.liquid place="center" width=677 src="/assets/img/2016-06/p-01/import.png" %}

Поскольку я обычно снимаю в режиме RAW+JPEG, обязательно ставлю галочку на «Игнорировать файлы JPEG».
По умолчанию Darktable готов обрабатывать все, что угодно, но мне-то от него нужна обработка только и именно RAW.

<div class="image-box">
  {% include image.liquid place="inner" width=400 src="/assets/img/2016-06/p-01/dt-02.png" %}
  {% include image.liquid place="inner" width=400 src="/assets/img/2016-06/p-01/dt-03.jpg" %}
</div>

Вверху справа мы можем видеть строку переключения режимов: «Просмотр | Обработка | Камера | Карта | Слайдшоу | Печать».
Из них наиболее полезны два первых: «Просмотр» показывает нам все фотографии текущей коллекции, позволяя производить
над ними групповые действия; «Обработка» открывает конкретную фотографию и инструменты для ее корректировки.
В режиме обработки мы можем переключаться между разными снимками благодаря ленте миниатюр внизу.

{% include image.liquid place="left" width=400 src="/assets/img/2016-06/p-01/dt-04.png" %}

Моя последовательность работы следующая: для начала я включаю режим показа «Все, кроме отклоненных», открываю первое
фото на обработку и последовательно кадр за кадром обрабатываю. Брак, дубли и т.д. — «отклоняю» крестиком в нижнем
левом углу миниатюры. С диска отклоненные файлы при этом не удаляются. Кроме того, исходные файлы не меняются
при обработке вообще.

{% include image.liquid place="right" width=300 src="/assets/img/2016-06/p-01/dt-05.png" %}

Модулей обработки мно­го, по­д­роб­но описывать я их не буду. Од­на­ко хочу обратить внимание на то,
что по умолчанию не все они подключены. Нужно развернуть список и выбрать все нужные (а также можно скрыть ненужные
и поместить особо нужные в «Избранное»). Для меня лично наиболее полезны следующие:

* Кривая тоновоспроизведения — общий контраст снимка.
* Трансформации — кадрирование и поворот, можно спасти заваленный горизонт, но, естественно, ценой резкости снимка.
* Обесцвечивание — получаем черно-белое фото.
* Баланс белого — обычно вручную ставить не требуется, но иногда этот инструмент незаменим.
* Подавление шума (по профилю) — вообще, шумодавов в Darktable целых четыре штуки, этот наиболее простой в использовании.

{% include image.liquid place="right" width=290 src="/assets/img/2016-06/p-01/dt-06.png" %}

Еще хотелось бы отметить, что Darktable кое-какую обработку делает каждому кадру по умолчанию. В истории изменений
сразу имеются «Ориентация», «Резкость» и «Базовая кривая». Эффектом последней как правило являются более насыщенные
цвета и общий контраст. В целом такая умолчательная обработка очень похожа на то, что делает камера при сохранении
в JPEG. Чаще всего эти изменения полезны, но иногда имеет смысл откатить их, чтобы получить более мягкий
и «естественный» цвет.

Когда все фотографии обработаны, остается их экспортировать. Модуль экспорта доступен в режиме «Просмотр» снизу
правой панели. Определяем, куда и в каком формате сохранять, а также дополнительную обработку при экспорте.

Тут я рекомендую два основных варианта: в одном случае мы хотим получить готовые картинки для того, чтобы выложить
куда-то в интернеты — тогда выбираем формат JPEG и прописываем размеры, до которых будут ужаты фото; в другом — нам
надо сохранить максимум информации для дальнейшей обработки и/или печати — выбираем 16-бит­ный TIFF, а в размерах
указываем нули, что означает «не изменять исходный». Есть и другие варианты, но мне они показались ненужными
и слишком экзотическими.

{% include image.liquid place="left" width=284 src="/assets/img/2016-06/p-01/dt-07.png" style="margin-bottom:20px;" %}

Ну а после всего можно переключить вид на «От­кло­нен­ные» и удалить их посредством кнопки «В кор­зи­ну».

<hr>

Именно **[Darktable][darktable]** на сегодняшний день мне представляется лучшим «проявщиком» RAW под Linux.
Но это не единственный вариант. Еще можно попробовать программу **[Raw&shy;Therapee][rawtherapee]**,
которая сделана по тому же принципу, мне она показалась менее удобной и функциональной, но может быть,
кому-то и больше понравится. Кроме того, можно воспользоваться консольным **[dcraw][dcraw]**, или
**[UFRaw][ufraw]**, который имеет как консольный, так и графический интерфейс (без возможности групповой
обработки и вообще, на мой взгляд, неудобный).

[darktable]: https://darktable.org "Официальный сайт Darktable"
[dt-ubuntu]: http://www.darktable.org/install/#ubuntu
[rawtherapee]: http://rawtherapee.com/ "Официальный сайт RawTherapee"
[dcraw]: http://www.cybercom.net/~dcoffin/dcraw/
[ufraw]: http://ufraw.sourceforge.net/
